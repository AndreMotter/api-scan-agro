
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model sgr_usuario {
  codigousuario  Int     @id @default(autoincrement())
  login          String  @unique
  senha          String
}

model sgr_cultura {
  codigocultura  Int     @id @default(autoincrement())
  nome           String  
  nomecientifico String?
  descricao      String? 
  correferencia  String? 
  imagem         String?
  situacao       Boolean @default(true)

  leituravideos     sgr_leituravideo[]
}

model sgr_areacoleta {
  codigoareacoleta  Int     @id @default(autoincrement())
  nome              String 

  leituravideos     sgr_leituravideo[]
}

model sgr_leituravideo {
  codigoleituravideo  Int @id @default(autoincrement())
  codigoareacoleta    Int     
  codigocultura       Int 
  quantidade          Decimal  @db.Decimal(20, 4)
  video               String
  datahora            DateTime

  areacoleta     sgr_areacoleta  @relation(fields: [codigoareacoleta], references: [codigoareacoleta])
  cultura        sgr_cultura     @relation(fields: [codigocultura], references: [codigocultura])
}

model srh_usuario {
  codigousuario  Int     @id @default(autoincrement())
  login          String  @unique
  senha          String
}

model srh_servidor {
  codigoservidor Int     @id @default(autoincrement())
  nome           String
  identificador  String

  leituras       srh_leitura[]
}

model srh_leitura {
  codigoleitura   Int           @id @default(autoincrement())
  codigoservidor  Int
  datahora        DateTime
  valor           Decimal       @db.Decimal(20, 4)
  unidade         String

  servidor        srh_servidor  @relation(fields: [codigoservidor], references: [codigoservidor])
}
